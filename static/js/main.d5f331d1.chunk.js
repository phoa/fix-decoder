(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{190:function(e,t,a){},196:function(e,t,a){},198:function(e,t,a){},200:function(e,t,a){},202:function(e,t,a){},204:function(e,t,a){},206:function(e,t,a){},208:function(e,t,a){},210:function(e,t,a){},212:function(e,t,a){},214:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(14),s=a.n(r),l=(a(94),a(96),a(86)),o=a(85),c=a(29),d=a(30),u=a(32),m=a(31),f=a(33),v=a(5),p=a(18),g=a(21);a(187);function h(e){if(e.status>=200&&e.status<300)return e;var t=new Error(e.statusText);throw t.response=e,t}function x(e){return e.text()}function b(e){var t=window.ga;t&&(t("send","event",e),t("pnp.send","event",e))}var E=a(80),C=a(52),N=a(82),F=a(88),y=a(81),O=a.n(y);var I=function(e){var t=e.customClass,a=e.additionalClass,n=Object(F.a)(e,["customClass","additionalClass"]),r=[t||O.a.buttonAsA];return a&&r.push(a),r=r.join(" "),i.a.createElement("button",Object.assign({className:r},n),e.children)},M=a(48),j=a.n(M);var k=function(e){var t=e.details,a=t.version,n=t.filename,r=n||a,s=[j.a["fix-version-item"]];return e.isSelected&&s.push(j.a.selected),i.a.createElement("div",{className:s.join(" ")},i.a.createElement(I,{onClick:function(a){a.preventDefault(),e.isSelected||e.loadAndParseFixXml(t)}},r))};a(190);function A(){var e=Object(E.a)(["\n  margin: 0.5em 1em;\n  list-style: none;\n"]);return A=function(){return e},e}var w=Object(N.a)(C.b.li({enter:{background:"#fff",color:"#222",transition:{duration:1e3,ease:"easeOut"}},exit:{background:"#222",color:"#fff"}}))(A());var X=function(e){var t=e.fixVersionList,a=e.activeFixVersion,n=e.loadAndParseFixXml,r=t.map(function(e){var t=e.version,r="fix-version-".concat(t);return i.a.createElement(w,{className:"fix-version-list-item-wrapper",key:r},i.a.createElement(k,{isSelected:t===a,details:e,loadAndParseFixXml:n}))});return i.a.createElement("div",{className:"fix-version"},i.a.createElement("span",{className:"fix-version-title"},"FIX Protocol"),i.a.createElement("ul",{className:"fix-version-list"},i.a.createElement(C.a,null,r)))},V=a(87);a(196);var D=function(e){var t=e.details,a=e.uploadXml,n=t.get("status"),r="waiting"===n;return i.a.createElement("div",{className:["fix-version-upload"].join(" ")},i.a.createElement(V.a,{className:"fix-version-upload-area",acceptClassName:"fix-version-upload-accept",rejectClassName:"fix-version-upload-reject",accept:"text/xml",multiple:!1,disabled:!r,onDrop:a},function(e){e.isDragAccept;var a=e.isDragReject;return e.acceptedFiles,e.rejectedFiles,a?i.a.createElement("div",{className:"fix-version-copy"},i.a.createElement("span",null,"One XML file at a time, please.")):r?i.a.createElement("div",{className:"fix-version-copy"},i.a.createElement("span",null,"Use Your Own FIX"),i.a.createElement("span",null,"Click or drop your FIX XML file here.")):i.a.createElement("div",{className:"fix-version-copy"},i.a.createElement("span",null,"Parsing ",t.get("filename")),i.a.createElement("span",null,"...",n))}))},P=(a(198),function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).editor=null,e}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.editor&&this.editor.focus()}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"fix-message"},i.a.createElement("div",{className:"fix-message-label"},"FIX Message"),i.a.createElement(g.Editor,{ref:function(t){e.editor=t},placeholder:"Enter your FIX message here...",editorState:this.props.editorState,onChange:this.props.editorOnChange,handlePastedText:this.props.editorHandlePastedText,handleReturn:this.props.editorHandleReturn}))}}]),t}(i.a.Component));a(200);var L=function(e){var t=e.decodedFixMessage,a=null;return t&&(a=t.map(function(e,t){if(null===e)return i.a.createElement("div",{key:t});var a=e.raw,n=e.decoded,r=["fix-result-item"];return e.isInvalid&&r.push("invalid-item"),i.a.createElement("div",{key:t,className:r.join(" ")},i.a.createElement("div",{className:"fix-result-col field-col"},i.a.createElement("span",{className:"fix-result-label"},"Field"),i.a.createElement("span",{className:"fix-result-value"},a.tag)),i.a.createElement("div",{className:"fix-result-col raw-col"},i.a.createElement("span",{className:"fix-result-label"},"Raw Value"),i.a.createElement("span",{className:"fix-result-value"},a.value)),i.a.createElement("div",{className:"fix-result-col desc-col"},i.a.createElement("span",{className:"fix-result-label"},"Field Description"),i.a.createElement("span",{className:"fix-result-value"},n.tag)),i.a.createElement("div",{className:"fix-result-col val-col"},i.a.createElement("span",{className:"fix-result-label"},"Value"),i.a.createElement("span",{className:"fix-result-value"},n.value)))})),i.a.createElement("div",{className:"fix-result"},a)};a(202);var S=function(e){var t=e.delimiterInput,a=e.delimiterUsed,n=e.delimiterInputOnChange,r=a||"\xaf\\_(\u30c4)_/\xaf";return i.a.createElement("div",{className:"fix-delimiter"},i.a.createElement("label",{htmlFor:"fix-delimiter-input",className:"fix-delimiter-label"},"Delimiter"),i.a.createElement("input",{type:"text",id:"fix-delimiter-input",className:"fix-delimiter-input",value:t||"",placeholder:r,onChange:n}),i.a.createElement("p",{className:"input-info"},"Specify a delimiter, or leave empty to auto-detect."))};a(204);var T=function(e){return i.a.createElement("a",{className:"github-corner",href:e.githubLink,rel:"noopener noreferrer",target:"_blank",title:e.githubLink,"aria-label":"View source on Github"},i.a.createElement("svg",{className:"github-corner-svg",width:"80",height:"80",viewBox:"0 0 250 250","aria-hidden":"true"},i.a.createElement("path",{className:"corner-triangle",d:"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"}),i.a.createElement("path",{d:"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2",fill:"currentColor",className:"octo-arm",style:{transformOrigin:"130px 106px"}}),i.a.createElement("path",{d:"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z",fill:"currentColor",className:"octo-body"})))};a(206);var U=function(e){return i.a.createElement("div",{className:"app-header"},i.a.createElement(T,{githubLink:"https://github.com/phoa/fix-decoder"}),i.a.createElement("div",{className:"app-header-title"},i.a.createElement("h2",null,"FIX Decoder")))};a(208);var _=function(e){var t=e.width,a=e.height,n=e.color||"#00D8FF";return i.a.createElement("svg",{className:"react-logo-svg",width:"".concat(t,"px"),height:"".concat(a,"px"),viewBox:"0 0 600 600"},i.a.createElement("circle",{fill:n,cx:"299.529",cy:"299.628",r:"50.167"}),i.a.createElement("path",{fill:"none",stroke:n,strokeWidth:"24",strokeMiterlimit:"10",d:"M299.529,197.628  c67.356,0,129.928,9.665,177.107,25.907c56.844,19.569,91.794,49.233,91.794,76.093c0,27.991-37.041,59.503-98.083,79.728  c-46.151,15.291-106.879,23.272-170.818,23.272c-65.554,0-127.63-7.492-174.29-23.441c-59.046-20.182-94.611-52.103-94.611-79.559  c0-26.642,33.37-56.076,89.415-75.616C167.398,207.503,231.515,197.628,299.529,197.628z"}),i.a.createElement("path",{fill:"none",stroke:n,strokeWidth:"24",strokeMiterlimit:"10",d:"M210.736,248.922  c33.649-58.348,73.281-107.724,110.92-140.48c45.35-39.466,88.507-54.923,111.775-41.505  c24.248,13.983,33.042,61.814,20.067,124.796c-9.81,47.618-33.234,104.212-65.176,159.601  c-32.749,56.788-70.25,106.819-107.377,139.272c-46.981,41.068-92.4,55.929-116.185,42.213  c-23.079-13.31-31.906-56.921-20.834-115.233C153.281,368.316,176.758,307.841,210.736,248.922z"}),i.a.createElement("path",{fill:"none",stroke:n,strokeWidth:"24",strokeMiterlimit:"10",d:"M210.821,351.482  c-33.746-58.292-56.731-117.287-66.312-166.255c-11.544-58.999-3.382-104.109,19.864-117.566  c24.224-14.024,70.055,2.244,118.14,44.94c36.356,32.28,73.688,80.837,105.723,136.173c32.844,56.733,57.461,114.209,67.036,162.582  c12.117,61.213,2.309,107.984-21.453,121.74c-23.057,13.348-65.249-0.784-110.239-39.499  C285.567,460.886,244.898,410.344,210.821,351.482z"}))};a(210);var H=function(e){return i.a.createElement("div",{className:"footer-container"},i.a.createElement("p",{className:"disclaimer"},"Google Analytics is setup to gain insights into usage of this web application. ",i.a.createElement("br",null)," Apart from Google Analytics, all of your FIX related data(FIX message, or your custom FIX protocol) is processed locally, and stays in your browser. ",i.a.createElement("br",null)," Your data is not sent or stored in any servers."),i.a.createElement("p",{className:"madewith"},i.a.createElement("i",{className:"material-icons"}," code ")," with"," ",i.a.createElement(_,{width:24,height:24})),i.a.createElement("p",{className:"madeby"},i.a.createElement("a",{href:"https://sg.linkedin.com/in/pnphoa",rel:"noopener noreferrer",target:"_blank",className:"madeby-link link-to-linkedin"},"Paul Nikolas Phoa"),i.a.createElement("span",{className:"madeby-divider"},"\u2022"),i.a.createElement("a",{href:"https://sg.linkedin.com/in/janaudy",rel:"noopener noreferrer",target:"_blank",className:"madeby-link link-to-linkedin"},"Thierry Janaudy")))},R=(a(212),function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).loadAndParseFixXml=e.loadAndParseFixXml.bind(Object(v.a)(Object(v.a)(e))),e.uploadXml=e.uploadXml.bind(Object(v.a)(Object(v.a)(e))),e.editorOnChange=e.editorOnChange.bind(Object(v.a)(Object(v.a)(e))),e.editorHandlePastedText=e.editorHandlePastedText.bind(Object(v.a)(Object(v.a)(e))),e.editorHandleReturn=e.editorHandleReturn.bind(Object(v.a)(Object(v.a)(e))),e.decodeFixMessage=e.decodeFixMessage.bind(Object(v.a)(Object(v.a)(e))),e.findDelimiter=e.findDelimiter.bind(Object(v.a)(Object(v.a)(e))),e.delimiterInputOnChange=e.delimiterInputOnChange.bind(Object(v.a)(Object(v.a)(e))),e.state={data:Object(p.Map)({fixVersionMap:Object(p.OrderedMap)({44:{version:"4.4",path:"".concat("/fix-decoder","/FIX44.xml"),filename:null,isCustom:!1},50:{version:"5.0",path:"".concat("/fix-decoder","/FIX50.xml"),filename:null,isCustom:!1}}),customVersionMap:Object(p.OrderedMap)({}),activeFixVersion:"4.4",uploadXmlDetails:Object(p.Map)({status:"waiting",filename:null}),fixParserCollection:Object(p.Map)({}),delimiterList:Object(p.List)(["|","^A","^"]),delimiterInput:null,delimiterUsed:null,editorState:g.EditorState.createEmpty(),decodedFixMessage:null})},e}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentWillMount",value:function(){var e=this.state.data.get("fixVersionMap").get("44");this.loadAndParseFixXml(e)}},{key:"uploadXml",value:function(e,t){var a=this;if(e.length>0){var n=e[0],i=n.name,r=this.state.data.get("uploadXmlDetails");r=r.set("status","parsing").set("filename",i),this.setState(function(e){return{data:e.data.set("uploadXmlDetails",r)}});var s=new FileReader;s.onload=function(e){var t=e.target.result,n=a._parseXml(t);try{if(n){var s=a.state.data.get("customVersionMap"),l="c-".concat(s.count()+1);r=r.set("status","success"),a.setState(function(e){var t;return{data:e.data.setIn(["customVersionMap",l],{version:l,filename:(t=i,t.replace(/[|&;$%@"<>()+,]/g,"")),isCustom:!0}).setIn(["fixParserCollection",l],n).set("uploadXmlDetails",r)}});var o=a.state.data.get("customVersionMap").get(l);a.loadAndParseFixXml(o),b({eventCategory:"Upload Custom XML",eventAction:"parse",eventLabel:"success",eventValue:1})}}catch(c){r=r.set("status","error"),a.setState(function(e){return{data:e.data.set("uploadXmlDetails",r)}}),b({eventCategory:"Upload Custom XML",eventAction:"parse",eventLabel:"error",eventValue:1})}r=r.set("status","waiting").set("filename",null),a.setState(function(e){return{data:e.data.set("uploadXmlDetails",r)}})},s.readAsText(n)}}},{key:"_parseXml",value:function(e){return function(e){var t={},a=e.getElementsByTagName("fields");if(a.length>0){var n=a[0];t.fields={};for(var i=n.getElementsByTagName("field"),r=i.length,s=0;s<r;s++){var l=i[s],o=l.getAttribute("number"),c=l.attributes.length;t.fields[o]={};for(var d=0;d<c;d++){var u=l.attributes.item(d);t.fields[o][u.nodeName]=u.nodeValue}var m=l.getElementsByTagName("value"),f=m.length;if(f>0){t.fields[o].values={};for(var v=0;v<f;v++){var p=m[v],g=p.getAttribute("enum"),h=p.attributes.length;t.fields[o].values[g]={};for(var x=0;x<h;x++){var b=p.attributes.item(x);t.fields[o].values[g][b.nodeName]=b.nodeValue}}}}}return t}((new DOMParser).parseFromString(e,"text/xml"))}},{key:"loadAndParseFixXml",value:function(e){var t=this,a=e.path,n=e.version;this.setState(function(e){return{data:e.data.set("activeFixVersion",n)}},function(){var e,i=t.state.data.getIn(["fixParserCollection",n]),r=t.state.data.get("delimiterInput"),s=t.state.data.get("delimiterUsed"),l=r||s,o=t.state.data.get("decodedFixMessage");i?((e=t.state.data.get("editorState").getCurrentContent().getPlainText())&&(o=t.decodeFixMessage(e,l,i)),t.setState(function(e){return{data:e.data.set("decodedFixMessage",o)}})):fetch(a,{mode:"no-cors"}).then(h).then(x).catch(function(e){return{error:e}}).then(function(a){var i=t._parseXml(a);(e=t.state.data.get("editorState").getCurrentContent().getPlainText())&&(o=t.decodeFixMessage(e,l,i)),t.setState(function(e){return{data:e.data.setIn(["fixParserCollection",n],i).set("decodedFixMessage",o)}})})})}},{key:"delimiterInputOnChange",value:function(e){var t=e.target.value,a=t;t&&(a=t[t.length-1]);var n=this.state.data.get("editorState").getCurrentContent().getPlainText(),i=this.state.data.get("decodedFixMessage"),r=this.state.data.get("delimiterUsed");if(n){a||(r=this.findDelimiter(n));var s=a||r;i=this.decodeFixMessage(n,s)}this.setState(function(e){return{data:e.data.set("delimiterInput",a).set("delimiterUsed",r).set("decodedFixMessage",i)}}),b({eventCategory:"Manual Delimiter Input",eventAction:"input",eventLabel:"Unrecognized Delimiter",eventValue:1})}},{key:"editorOnChange",value:function(e){var t=e.getCurrentContent().getPlainText(),a=this.state.data.get("editorState").getCurrentContent().getPlainText(),n=this.state.data.get("delimiterInput"),i=this.state.data.get("decodedFixMessage"),r=this.state.data.get("delimiterUsed");if(t!==a){n||(r=this.findDelimiter(t));var s=n||r;i=this.decodeFixMessage(t,s)}return this.setState(function(t){return{data:t.data.set("editorState",e).set("delimiterUsed",r).set("decodedFixMessage",i)}})}},{key:"editorHandlePastedText",value:function(e,t){var a=e.replace(/(\r\n|\n|\r)/gm,""),n=g.ContentState.createFromText(a),i=n.getPlainText(),r=this.state.data.get("editorState").getCurrentContent().getPlainText(),s=this.state.data.get("delimiterInput"),l=this.state.data.get("delimiterUsed"),o=this.state.data.get("decodedFixMessage");if(i!==r){s||(l=this.findDelimiter(i));var c=s||l;o=this.decodeFixMessage(i,c)}return this.setState(function(e){return{data:e.data.set("editorState",g.EditorState.createWithContent(n)).set("delimiterUsed",l).set("decodedFixMessage",o)}}),"handled"}},{key:"editorHandleReturn",value:function(){return"handled"}},{key:"findDelimiter",value:function(e){if(e){var t=this.state.data.get("delimiterList"),a=this.state.data.get("delimiterUsed");if(null!==a){var n=e.split("=").length,i=e.split(a).length;if(n===i||n===i+1)return a}if(a=t.find(function(t){return e.indexOf(t)>-1}))return a;var r=new RegExp("([^a-zA-Z0-9])9=*").exec(e)||[];return a=Object(o.a)(r,2)[1]}return null}},{key:"decodeFixMessage",value:function(e,t,a){var n,i=this;return n=e.split(t).map(function(e){try{if(""===e)return null;var t={},n=e.split("=");2!==n.length&&(t={isInvalid:!0});var r=n.shift().trim(),s=Object(l.a)(n).join("=").trim(),o=r||"!!INVALID!!",c=s||"!!INVALID!!";t.raw={tag:o,value:c};var d=null;if(a)d=a;else{var u=i.state.data.get("activeFixVersion");d=i.state.data.getIn(["fixParserCollection",u])}if(d){var m=d.fields[o]||"!!INVALID!!",f=m.name||"!!INVALID!!",v=m.values,p=c||"!!INVALID!!";v&&(p=v[c]?v[c].description:"".concat(c," (").concat("!!INVALID!!",")")),t.decoded={tag:f,value:p},("!!INVALID!!"===f||p.indexOf("!!INVALID!!")>-1)&&(t.isInvalid=!0)}return t}catch(g){return console.log("err: ",g),b({eventCategory:"Decode FIX Message",eventAction:"decode",eventLabel:"error",eventValue:1}),null}}),b({eventCategory:"Decode FIX Message",eventAction:"decode",eventLabel:"success",eventValue:1}),n}},{key:"render",value:function(){var e=this.state.data.get("fixVersionMap"),t=this.state.data.get("customVersionMap"),a=this.state.data.get("activeFixVersion"),n=this.state.data.get("editorState"),r=n.getCurrentContent().getPlainText()||null,s=this.state.data.get("decodedFixMessage"),l=this.state.data.get("uploadXmlDetails"),o=this.state.data.get("delimiterUsed"),c=this.state.data.get("delimiterInput"),d=e.merge(t).toArray();return i.a.createElement("div",{className:"App"},i.a.createElement(U,null),i.a.createElement(X,{activeFixVersion:a,fixVersionList:d,loadAndParseFixXml:this.loadAndParseFixXml}),i.a.createElement(D,{details:l,uploadXml:this.uploadXml}),i.a.createElement(P,{editorState:n,editorOnChange:this.editorOnChange,editorHandlePastedText:this.editorHandlePastedText,editorHandleReturn:this.editorHandleReturn}),r&&i.a.createElement(S,{delimiterUsed:o,delimiterInput:c,delimiterInputOnChange:this.delimiterInputOnChange}),i.a.createElement(L,{decodedFixMessage:s}),i.a.createElement(H,null))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));!function(){var e=window.ga;e&&(e("create","UA-88918550-1","auto"),e("create","UA-128576472-1","auto","pnp"),e("send","pageview"),e("pnp.send","pageview"))}(),s.a.render(i.a.createElement(R,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},48:function(e,t,a){e.exports={"fix-version-item":"FixVersionItem_fix-version-item__UUyUy",selected:"FixVersionItem_selected__2NCRG"}},81:function(e,t,a){e.exports={buttonAsA:"ButtonAsA_buttonAsA__3ftrN"}},89:function(e,t,a){e.exports=a(214)},96:function(e,t,a){}},[[89,2,1]]]);
//# sourceMappingURL=main.d5f331d1.chunk.js.map